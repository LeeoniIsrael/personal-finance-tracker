<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/style/style.css">
</head>
<body>

<h2>Coin:Flipper</h2>
<p>Choose your function:</p>

<div class="tab">
  <button class="tablinks" onclick="openCity(event, 'add')">Add Transaction</button>
  <form action="/transactions" method="post">
  <button class="tablinks" onclick="openCity(event, 'view')">View Transactions</button>
</form>
  <button class="tablinks" onclick="openCity(event, 'exchange')">Exchange Currencies</button>
</div>

<div id="add" class="tabcontent">
  <h3>Add a new Transaction</h3>
  <p>
    <form action="/add_transaction" method="post">
    <label>Amount: </label>
    <input type="number id="amount"> <br>
    <label>Currency: </label>
    <input type="text"> <br>
    <label>Type: </label>
    <input type="text"> <br>
    <label>Notes: </label> 
    <input type="text"> <br>
    <input type="submit" value="Submit">
</form>
  </p>
</div>

<div id="view" class="tabcontent">
  <h3>View Transaction History</h3>
  <p>Here are all your transactions:</p> 
  {% for j in range(0, result|length) %}
  {{ result[j] }}
  {% endfor %}
  <div id="dataDisplay">
    <!-- JSON data will be displayed here -->
     
</div>
<script>document.addEventListener("DOMContentLoaded", function () {
    fetch('data.json')
        .then(response => response.json())
        .then(data => {
            const dataDisplay = document.getElementById("dataDisplay");

            // Create HTML elements to display the JSON data
            const nameElement = document.createElement("p");
            nameElement.textContent = "Name: " + data.name;

            const ageElement = document.createElement("p");
            ageElement.textContent = "Age: " + data.age;

            const cityElement = document.createElement("p");
            cityElement.textContent = "City: " + data.city;

            // Append the elements to the "dataDisplay" div
            dataDisplay.appendChild(nameElement);
            dataDisplay.appendChild(ageElement);
            dataDisplay.appendChild(cityElement);
        })
        .catch(error => console.error("Error fetching JSON data:", error));
});</script>
</div>

<div id="exchange" class="tabcontent">
  <h3>Currency Exhange</h3>
  <form action="/convert_currency" method="post">
    <label>Amount: </label>
    <input type="number"> <br>
    <label>From: </label>
    <input type="text"> <br>
    <label>To: </label>
    <input type="text"> <br>
    <input type="submit" value="Submit">
</form>
</div>

<script>
function openCity(evt, cityName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
</script>
   
</body>
</html> 
